---
## Front matter
lang: ru-RU
title: Лабораторная работа №16 
subtitle: Програмный RAID
author:
  - Перфилов Александр Константинович | Группа НПИбд-03-24
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 14 ноября 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: JuanLesPins
colortheme: beaver
fonttheme: professionalfonts
innertheme: rounded
outertheme: infolines

## Fonts
mainfont: Liberation Serif
romanfont: Liberation Serif
sansfont: Liberation Sans
monofont: Liberation Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Перфилов Александр Константинович
  * Группа НПИбд-03-24
  * Российский университет дружбы народов
  * <https://github.com/AlexanderPErfilovKonstantinivich?tab=repositories>

:::
::: {.column width="30%"}


:::
::::::::::::::

# Цель работы

Освоить работу с RAID-массивами при помощи утилиты mdadm.

# Задание

1. Прочитайте руководство по работе с утилитами fdisk, sfdisk и mdadm.
2. Добавить три диска на виртуальную машину (объёмом от 512 MiB каждый). При помощи sfdisk создать на каждом из дисков по одной партиции, задав тип раздела для RAID.
3. Создать массив RAID 1 из двух дисков, смонтировать его. Эмитировать сбой одного из дисков массива, удалить искусственно выведенный из строя диск, добавить в массив работающий диск.
4. Создать массив RAID 1 из двух дисков, смонтировать его. Добавить к массиву третий диск. Эмитировать сбой одного из дисков массива. Проанализировать состояние массива, указать различия по сравнению с предыдущим случаем.
5. Создать массив RAID 1 из двух дисков, смонтировать его. Добавить к массиву третий диск. Изменить тип массива с RAID1 на RAID5, изменить число дисков в массиве с 2 на 3. Проанализировать состояние массива, указать различия по сравнению с предыдущим случаем.

# Выполнение лабораторной работы

## Создание виртуальных носителей

Я добавила к своей виртуальной машине три диска размером 512 MiB к контроллеру SATA.

![Создание дисков](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/1.jpg){#fig:001 width=70%}

## Создание RAID-диска

1. Проверила наличие созданных дисков, введя команду: `fdisk -l | grep /dev/sd` Если предыдущая работа по LVM была выполнена успешно, то в системе я увидела добавленные диски, отображающиеся как /dev/sdd, /dev/sde, /dev/sdf.

![Проверка наличия дисков](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/2.jpg){#fig:011 width=70%}

2. Я создала раздел на каждом из дисков.

![Создание разделов](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/3.jpg){#fig:012 width=70%}

![Создание разделов](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/4.jpg){#fig:013 width=70%}

![Создание разделов](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/5.jpg){#fig:014 width=70%}

3. Я проверила текущий тип созданных разделов с помощью команд: `sfdisk --print-id /dev/sdd 1 sfdisk --print-id /dev/sde 1 sfdisk --print-id /dev/sdf 1` Все созданные мной разделы имеют тип Linux.

![Текущий тип разделов](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/6.jpg){#fig:015 width=70%}

4. Я просматривала, какие типы партиций, относящиеся к RAID, можно задать, использовав команду: `sfdisk -T | grep -i raid`.

![Типы партиций](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/7.jpg){#fig:016 width=70%}

5. Затем я установила тип разделов в Linux raid autodetect следующими командами: `sfdisk --change-id /dev/sdd 1 fd sfdisk --change-id /dev/sde 1 fd sfdisk --change-id /dev/sdf 1 fd`.

![Установка типа разделов](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/8.jpg){#fig:017 width=70%}

6. Я проверила состояние дисков с помощью команд: `sfdisk -l /dev/sdd sfdisk -l /dev/sde sfdisk -l /dev/sdf`.

![Проверка состояния дисков](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/9.jpg){#fig:018 width=70%}

7. Используя утилиту mdadm, я создала массив RAID 1 из двух дисков с помощью команды: `mdadm --create --verbose /dev/md0 --level=1 --raid-devices=2 /dev/sdd1 /dev/sde1` (рис. [-@fig:019]).

![Создание массива](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/10.jpg){#fig:019 width=70%}

8. Я проверила состояние массива RAID, используя следующие команды: `cat /proc/mdstat`, `mdadm --query /dev/md0`, `mdadm --detail /dev/md0`.

![проверка состояния массива](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/11.jpg){#fig:0120 width=70%}

9. Я создала файловую систему на RAID с помощью команды: `mkfs.ext4 /dev/md0`.

![Создание файловой системы](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/12.jpg){#fig:0121 width=70%}

10. Я подмонтировала RAID, создав каталог: `mkdir /data`, `mount /dev/md0 /data`.

![Монтировка Raid](/home/akpperfilov/work/study/2025-2026/Основы администрирования операционных систем/os2/study_2025-2026_os2/labs/lab16/presentation/image/13.jpg){#fig:0122 width=70%}

# Ответы на контрольные вопросы

1. RAID (Redundant Array of Independent Disks) – это технология, которая позволяет объединять несколько физических дисков в одну логическую единицу для повышения производительности, надежности и/или резервирования данных. RAID позволяет распределять данные между дисками, что обеспечивает защиту от потери данных при отказе одного или нескольких дисков, а также может увеличить скорость чтения и записи.

2. Типы RAID-массивов
Существует несколько уровней RAID, каждый из которых обеспечивает свои особенности в области производительности, резервирования данных и структуры. Основные типы RAID-массивов:

RAID 0
RAID 1
RAID 5
RAID 6
RAID 10 (1+0)
RAID 2
RAID 3
RAID 4
RAID 50 (сочетание RAID 5 и RAID 0)
RAID 60 (сочетание RAID 6 и RAID 0)

3. Описание уровня RAID

RAID 0

Алгоритм работы

Данные разбиваются на блоки и параллельно распределяются по всем дискам в массиве. Это обеспечит высокую скорость записи и чтения.
Назначение

RAID 0 обеспечивает максимальную производительность, но не содержит резервирования данных. В случае отказа одного из дисков все данные теряются.

Примеры применения

RAID 0 чаще всего используется в системах, требующих высокой скорости обработки данных, например в игровой индустрии, видеоредакторах и других приложениях, где важна высокая производительность.

RAID 1

Алгоритм работы

Данные дублируются на каждом диске в массиве. Если массив состоит из двух дисков, данные записываются одновременно на оба, создавая полную копию.

Назначение

RAID 1 предоставляет высокий уровень защиты данных. Если один из дисков выйдет из строя, данные будут доступны на другом диске.

Примеры применения

RAID 1 часто используется для систем, требующих высокой надежности, таких как файловые серверы и системы резервного копирования.

RAID 5

Алгоритм работы

Данные и контрольные суммы (паритетные данные) распределяются по всем дискам в массиве. Для восстановления данных при отказе диска используется информация о паритете, что позволяет обеспечивать резервирование без полного дублирования данных.

Назначение

RAID 5 обеспечивает хороший баланс между производительностью и уровнем защиты данных. Выдерживает отказ одного диска без потери данных.

Примеры применения

RAID 5 подходит для использования в серверах, приложениях с большими объемами данных и системах, где важны как производительность, так и резервирование (например, базы данных).

RAID 6

Алгоритм работы

Подобно RAID 5, но с дополнительным уровнем защиты. RAID 6 использует две контрольные суммы (двойной паритет), что позволяет ему выдерживать отказ двух дисков одновременно.

Назначение

RAID 6 обеспечивает высокий уровень защиты данных и подходит для систем, где критически важна надежность.

Примеры применения

RAID 6 часто используется в крупных системах хранения данных, где риск потери данных неприемлем, например, в облачных хранилищах, центрах обработки данных и серверных кластерах.


# Выводы

Этот процесс позволил мне получить практику в работе с RAID-массивами и утилитами для его управления, а также познакомиться с основами настройки и восстановления массивов.

